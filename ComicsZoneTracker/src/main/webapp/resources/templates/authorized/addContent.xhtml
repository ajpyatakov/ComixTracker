<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/resources/templates/authorized/authorized.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:define name="articleContent">
        <h:form id = "addContentForm"
                enctype="multipart/form-data">
            <c:set var="Type" value="#{addContentController.getTypeParam()}"/>
            <c:choose>
                <c:when test="#{Type=='Volume'}">
                    <h3>Add a new volume</h3>
                </c:when>
                <c:when test="#{Type=='Issue'}">
                    <h3>Add a new issue</h3>
                </c:when>
                <c:otherwise>
                    <h3>Add a new comics</h3>
                </c:otherwise>
            </c:choose>
            
            <p:panelGrid id="addContentPanel"
                         columns = "1"
                         layout = "grid">
                
                <li class="ui-state-default">Title</li>
                <h:inputText id="name"
                             styleClass="add-content-page-inputs"
                             value="#{addContentController.title}"/>
                
                <li class="ui-state-default">Description</li>
                <p:editor id="editor" 
                          widgetVar="editorWidget"
                          value="#{addContentController.description}"/>
                
                <c:if test="#{Type=='Comics'}">
                    <li class="ui-state-default">Publisher</li>
                    <p:selectOneMenu id="publisher"
                                     styleClass="add-content-page-inputs"
                                     value="#{addContentController.publisher}">
                        <f:selectItem itemLabel="Marvel" itemValue="Marvel" />
                        <f:selectItem itemLabel="DC" itemValue="DC" />
                        <f:selectItem itemLabel="Other" itemValue="Other" />
                    </p:selectOneMenu>
                
                    <li class="ui-state-default">Imprint</li>
                    <h:inputText id="imprint"
                                 styleClass="add-content-page-inputs"
                                 value="#{addContentController.imprint}"/>
                </c:if>
                
                <c:if test="#{Type=='Issue'}">
                    <li class="ui-state-default">Release date</li>
                    <p:inputMask id="date" 
                                 value="#{addContentController.date}" 
                                 mask="99/99/9999" 
                                 placeholder="DD/MM/YYYY"/>
                </c:if>
                
                <li class="ui-state-default">Image</li>
                <p:fileUpload fileUploadListener="#{addContentController.upload}"
                              dragDropSupport="true"
                              mode="simple"
                              fileLimit="1"
                              sizeLimit="100000" 
                              allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
                
                <p:commandButton value="Submit" 
                                 update="addContentForm" 
                                 oncomplete="PF('dlg').show()"
                                 style="margin-top: 1em"
                                 icon="ui-icon-check" />
                
            </p:panelGrid>
        </h:form>
    </ui:define>
</ui:composition>
